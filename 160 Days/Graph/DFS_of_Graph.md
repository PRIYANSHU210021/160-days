

### **Step 1: What is DFS?**  
 **DFS (Depth First Search)** is a graph traversal algorithm that starts from a node, explores as far as possible along one branch before backtracking, and then explores the next possible branch.  

 **What does this code do?**  
This code performs **DFS traversal** on a graph represented as an **adjacency list** and returns the order in which nodes are visited.  

---

### **Step 2: Breaking Down the Code**  

#### **DFS Function (Recursive)**
```cpp
void dfs(int node, vector<vector<int>>& adj, vector<bool>& visited, vector<int>& ans) 
{
    visited[node] = 1;  // Mark the node as visited
    ans.push_back(node); // Store the node in the answer list

    // Loop through all adjacent nodes of 'node'
    for (int i = 0; i < adj[node].size(); i++)  
    {
        if (visited[adj[node][i]] == 0)  // If the node is not visited
        {
            dfs(adj[node][i], adj, visited, ans);  // Recursively visit the node
        }
    }
}
```
**Explanation:**  
- This function **marks the current node as visited** and **adds it to the result list**.  
- Then, it **loops through all its neighbors** (connected nodes).  
- If a neighbor is **not visited**, it **calls DFS recursively** on that node.  
- This process continues until all connected nodes are visited.  

---

#### **2 Main DFS Function**
```cpp
vector<int> dfs(vector<vector<int>>& adj) {
    int n = adj.size(); // Get the number of nodes
    vector<bool> visited(n, 0); // Create a visited array (initialized to false)
    vector<int> ans; // Store DFS traversal result
    
    dfs(0, adj, visited, ans); // Start DFS from node 0
    
    return ans; // Return the traversal order
}
```
**Explanation:**  
- We find the **number of nodes** in the graph.  
- We create a **visited array** (initialized to `false` for all nodes).  
- We create an **answer list** to store the DFS traversal order.  
- We **call the recursive `dfs` function** starting from node `0`.  
- Finally, it **returns the list of nodes visited in DFS order**.  

---

### **Step 3: Example **
Let's say we have this graph represented as an adjacency list:  
```
0 -> {1, 2}
1 -> {0, 3, 4}
2 -> {0, 5}
3 -> {1}
4 -> {1}
5 -> {2}
```
If we call `dfs(adj)`, it will visit nodes in this order:  
**`0 â†’ 1 â†’ 3 â†’ 4 â†’ 2 â†’ 5`**  

**How does it work?**  
1. Start at `0`, mark as visited â†’ **Go to 1**  
2. From `1`, mark as visited â†’ **Go to 3**  
3. From `3`, mark as visited â†’ No unvisited neighbors, backtrack to `1`  
4. From `1`, move to `4`, mark as visited â†’ No unvisited neighbors, backtrack to `1`  
5. Back to `0`, move to `2`, mark as visited â†’ **Go to 5**  
6. From `5`, mark as visited â†’ No unvisited neighbors, backtrack to `2`, then to `0`  
7. All nodes are visited, so return result! ðŸŽ¯  

---

### **In last**
- **DFS explores depth-wise before backtracking.**  
- **Recursive function keeps exploring until no unvisited nodes remain.**  
- **Visited array prevents revisiting the same node.**  
- **Final result contains the order in which nodes were visited.**  

@Credit : MD Format Generated By Generative AI